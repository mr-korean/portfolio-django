{% extends "game/base_game.html" %}

{% block extra_style %}
{% load staticfiles %}
<link rel="stylesheet" href="{% static 'css/game-default.css' %}">
<style>
    .chooseMe {top: 270px; visibility: hidden;}

    #monteButton-1 {left: 73px;}
    #monteButton-2 {left: 173px;}
    #monteButton-3 {left: 273px;}
</style>
{% endblock extra_style %}

{% block upperjs %}
<script src="{% static 'js/game-monte.js' %}"></script>
{% endblock upperjs %}

{% block content_game %}
<div>
    <div class="box-game">
        <div id="canvas-monte"></div>
        <span class="game-button game-start" id="start-monte" onclick="gameStart()">시작</span>
        <span class="game-button chooseMe" id="monteButton-1" onclick="choose1()">1</span>
        <span class="game-button chooseMe" id="monteButton-2" onclick="choose2()">2</span>
        <span class="game-button chooseMe" id="monteButton-3" onclick="choose3()">3</span>
        <span class="game-button game-clearScore" onclick="clearScore()">점수지우기</span>
    <p class="box-message" id="message-monte">'시작' 버튼을 눌러주세요.</p>
    <p class="box-message">(로그인하지 않으면 점수가 저장되지 않습니다.)</p>
    </div>
</div>
{% endblock content_game %}

{% block lowerjs %}
{% if user.is_authenticated %}
<script>
    // 로그인했을 때만 사용되며, 해당 계정의 점수를 DB에서 받아온다.
    // 점수 다운로드 코드는 static/js/monte.js에 있다.
    var gameData = {
        'level': 1,
        'score': 0,
        'highscore': 0
    };
    $(document).ready(function() {
        scoreDownload();
    });
</script>
{% else %}
<script>
    var gameData = {
        'level': 1,
        'score': 0,
        'highscore': 0
    };
</script>
{% endif %}
<script>
    $(document).ready(function () {
        gameReady();
    });
</script>
{% endblock lowerjs %}