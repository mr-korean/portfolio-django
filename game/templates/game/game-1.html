{% extends "game/base_game.html" %}

{% block js %}
{% load staticfiles %}
<script src="{% static 'js/monte.js' %}"></script>
{% endblock js %}

{% block content_game %}
<div class="container">
    <div class="row">
        <div class="col-lg-6">
            <div class="center-block" id="monteBox">
                <div id="locationOfCanvas"></div>
                <p class="messagebox" id="message">'시작' 버튼을 눌러주세요.</p>
                <span id="letsPlay" onclick="gameStart()">시작</span>
                <span class="chooseMe" id="choose1" onclick="choose1()">1</span>
                <span class="chooseMe" id="choose2" onclick="choose2()">2</span>
                <span class="chooseMe" id="choose3" onclick="choose3()">3</span>
                <span id="clearScore" onclick="clearScore()">점수지우기</span> 
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        gameReady();
    });
</script>
{% endblock content_game %}

{% block javascript %}
{% if user.is_authenticated %}
<script>
    // 로그인했을 때만 사용되며, 해당 계정의 점수를 DB에서 받아온다.
    // 점수 다운로드 코드는 static/js/monte.js에 있다.
    var gameData = {
        'level': 1,
        'score': 0,
        'highscore': 0
    };
    $(document).ready(function() {
        scoreDownload();
    });
</script>
{% else %}
<script>
    var gameData = {
        'level': 1,
        'score': 0,
        'highscore': 0
    };
</script>
{% endif %}
<script>
    $(document).ready(function () {
        gameReady();
    });
</script>
{% endblock javascript %}